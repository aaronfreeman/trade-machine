{"id":"trade-machine-0kj","title":"Fix critical UI bugs: missing JavaScript, icons, and HTMX responses","description":"The UI has three critical bugs preventing basic functionality:\n\n1. **showSection() function missing** - Navigation links call showSection() but it doesn't exist, so clicking sidebar items does nothing\n2. **Bootstrap Icons CDN not loaded** - Icons are referenced (bi-search, bi-lightbulb, etc.) but the CDN link is missing, making all icons invisible\n3. **API returns JSON instead of HTML** - HTMX expects HTML responses but handlers return JSON, so data never displays\n\nImplementation:\n- Add Bootstrap Icons CDN to layout.templ\n- Add showSection() JavaScript function to layout.templ\n- Add custom CSS with section visibility rules\n- Add HTMX error handling JavaScript\n\nFiles affected:\n- templates/layout.templ\n\nPriority: Critical (blocking all UI functionality)","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T15:27:30.332688-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T15:49:00.887506-06:00","closed_at":"2026-01-17T15:49:00.887506-06:00","close_reason":"Fixed all critical UI bugs: added Bootstrap Icons CDN, implemented showSection() JavaScript with localStorage persistence, added comprehensive dark theme CSS, added HTMX error handling. All tests pass.","labels":["bug","priority:critical","ui"]}
{"id":"trade-machine-17k","title":"Migrate to chi or gorilla/mux router","description":"handler.go uses manual switch-case routing instead of a router library, making it verbose and lacking middleware support.\n\nCurrent problem:\n- handler.go:26-83 uses switch-case for routing\n- No built-in middleware support\n- Harder to add features (logging, auth, rate limiting)\n- More verbose code\n\nImplementation:\n- Add chi router (lightweight) or gorilla/mux\n- Refactor handler.go to use router\n- Add middleware for logging, CORS, timeouts\n- Group related routes\n\nExample:\nr := chi.NewRouter()\nr.Use(middleware.Logger)\nr.Get('/api/health', h.handleHealth)\nr.Route('/api/recommendations', func(r chi.Router) {\n    r.Get('/', h.handleGetRecommendations)\n    r.Post('/{id}/approve', h.handleApproveRecommendation)\n})\n\nPriority: Medium (Phase 2)","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T11:17:52.512386-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T14:47:56.989781-06:00","closed_at":"2026-01-17T14:47:56.989784-06:00","labels":["enhancement","priority:medium"]}
{"id":"trade-machine-4tj","title":"Add centralized configuration management","description":"Currently configuration is scattered with os.Getenv() calls throughout the codebase. Create a config package that loads and validates all configuration at startup.\n\nFiles affected:\n- agents/manager.go (timeout, weights)\n- services/bedrock.go (Bedrock config)\n- app.go (concurrency limit)\n- handler.go (CORS)\n\nImplementation:\n- Create config/config.go with Config struct\n- Add validation for agent weights (must sum to 1.0)\n- Load and validate at startup in main.go\n- Inject config into components instead of reading env directly\n\nPriority: High (Phase 1)","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T11:17:02.528314-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T13:46:44.547071-06:00","closed_at":"2026-01-17T13:46:44.547071-06:00","close_reason":"Closed","labels":["enhancement","priority:high"]}
{"id":"trade-machine-63p","title":"Add CQRS-lite: split repository into commands and queries","description":"Repository mixes query and command methods. Split into separate interfaces for better clarity and optimization.\n\nCurrent problem:\n- repository/ has mixed read/write operations\n- Unclear intent\n- Harder to optimize separately\n\nImplementation:\n- Create repository/commands.go with CommandRepository interface\n- Create repository/queries.go with QueryRepository interface\n- Update postgres.go to implement both\n- Refactor App to use separate interfaces where appropriate\n\nExample:\ntype CommandRepository interface {\n    CreateRecommendation(ctx context.Context, rec *models.Recommendation) error\n    ApproveRecommendation(ctx context.Context, id uuid.UUID) error\n}\n\ntype QueryRepository interface {\n    GetRecommendations(ctx context.Context, symbol string, limit int) ([]models.Recommendation, error)\n    GetPendingRecommendations(ctx context.Context) ([]models.Recommendation, error)\n}\n\nBenefits:\n- Clearer intent\n- Easier to optimize reads vs writes\n- Better separation for future scaling\n\nPriority: Low (Phase 3)","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T11:18:54.916171-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T17:26:21.419262-06:00","closed_at":"2026-01-17T15:11:20.537568-06:00","labels":["enhancement","priority:low"]}
{"id":"trade-machine-800","title":"Update handlers to return HTML for HTMX requests","description":"Modify API handlers to detect HTMX requests and return HTML templates instead of JSON.\n\nDetection method:\nfunc isHTMXRequest(r *http.Request) bool {\n    return r.Header.Get(\"HX-Request\") == \"true\"\n}\n\nHandlers to update:\n1. handleAnalyzeStock - render analyze_result.templ\n2. handleGetPositions - render positions_list.templ\n3. handleGetRecommendations - render recommendations_list.templ\n4. handleGetPendingRecommendations - render recommendations_list.templ\n5. handleGetTrades - render trades_list.templ\n6. handleGetAgentRuns - render agent_runs_list.templ\n\nEach handler should:\n- Check if request is HTMX (HX-Request header)\n- If HTMX: render appropriate templ partial\n- If not HTMX: return JSON (preserve API compatibility)\n- Handle errors by rendering error_state.templ for HTMX\n\nExample:\nif isHTMXRequest(r) {\n    templates.PositionsList(positions).Render(r.Context(), w)\n    return\n}\nh.jsonResponse(w, positions)\n\nFiles affected:\n- handler.go\n\nPriority: High","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T15:29:26.052234-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T18:36:54.773719-06:00","closed_at":"2026-01-17T18:36:54.773719-06:00","close_reason":"Updated all handlers to detect HTMX requests and return HTML templates. Added isHTMXRequest helper, templComponent interface, htmlResponse and htmlError helpers. Added GetRecommendationByID to app. All tests pass.","labels":["enhancement","priority:high","ui"]}
{"id":"trade-machine-873","title":"Add observability layer with Prometheus metrics","description":"Limited visibility into system behavior. Add metrics collection for monitoring and debugging.\n\nCurrent problem:\n- No metrics collection\n- Hard to understand system behavior\n- No performance monitoring\n\nImplementation:\n- Add prometheus/client_golang\n- Create observability/metrics.go\n- Add metrics for:\n  - Analysis requests (counter by symbol)\n  - Agent duration (histogram by agent_type)\n  - Recommendation actions (counter by action)\n  - API errors (counter by service)\n  - Database query duration\n- Add /metrics endpoint\n- Consider adding OpenTelemetry tracing\n\nExample metrics:\n- analysis_requests_total{symbol}\n- agent_duration_seconds{agent_type}\n- recommendation_actions_total{action}\n- external_api_errors_total{service}\n\nPriority: Low (Phase 3)","status":"open","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T11:19:05.435016-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T11:19:05.435016-06:00","labels":["enhancement","observability","priority:low"]}
{"id":"trade-machine-8ki","title":"Add agent weight validation","description":"Agent weights are loaded independently with no validation that they sum to 1.0, which could cause incorrect score calculations.\n\nCurrent problem:\n- agents/manager.go:120-134 loads weights independently\n- No validation that weights sum to 1.0\n- Silent failures if misconfigured\n\nImplementation:\n- Add validation in config package (depends on issue trade-machine-4tj)\n- Check weights sum to 1.0 (with tolerance for floating point)\n- Return error at startup if invalid\n- Add unit tests for validation\n\nExample:\nfunc (c *AgentConfig) Validate() error {\n    sum := c.WeightFundamental + c.WeightNews + c.WeightTechnical\n    if math.Abs(sum - 1.0) \u003e 0.001 {\n        return fmt.Errorf('agent weights must sum to 1.0, got %.3f', sum)\n    }\n    return nil\n}\n\nPriority: Medium (Phase 2)","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T11:17:41.590017-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T13:47:21.682386-06:00","closed_at":"2026-01-17T13:47:21.682386-06:00","close_reason":"Closed","labels":["bug","enhancement","priority:medium"]}
{"id":"trade-machine-b5o","title":"Implement professional dark theme color scheme","description":"Current UI uses basic Bootstrap dark classes which aren't visually appealing. Implement a professional GitHub-inspired dark theme for financial applications.\n\nColor palette:\n- Background: #0d1117 (primary), #161b22 (cards), #21262d (hover)\n- Text: #e6edf3 (primary), #8b949e (secondary), #6e7681 (muted)\n- Buy/Success: #3fb950 (green)\n- Sell/Danger: #f85149 (red)\n- Hold/Warning: #d29922 (amber)\n- Accent: #58a6ff (blue)\n- Agent colors: fundamental=#58a6ff, technical=#8957e5, news=#d29922\n\nImplementation:\n- Add CSS custom properties (:root variables)\n- Override Bootstrap defaults for dark theme consistency\n- Style sidebar, cards, tables, forms, buttons\n- Add action badges (BUY/SELL/HOLD) with color coding\n- Add status badges (pending/approved/rejected/executed)\n\nFiles affected:\n- templates/layout.templ (add inline CSS or external stylesheet)\n\nPriority: High","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T15:28:09.257327-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T17:20:51.311678-06:00","closed_at":"2026-01-17T17:20:51.311678-06:00","close_reason":"Completed as part of trade-machine-0kj - dark theme CSS with full color palette already added to layout.templ","labels":["enhancement","priority:high","ui"]}
{"id":"trade-machine-co3","title":"Add strategy pattern for recommendation actions","description":"Action determination is hardcoded in agents/helpers.go. Add pluggable strategies for different risk profiles.\n\nCurrent problem:\n- Thresholds hardcoded (±25 for BUY/SELL)\n- No support for different risk profiles\n- Can't A/B test thresholds\n\nImplementation:\n- Create agents/strategies package\n- Define ActionStrategy interface\n- Implement ConservativeStrategy (±35 thresholds)\n- Implement AggressiveStrategy (±15 thresholds)\n- Make strategy configurable\n- Allow user-specific strategies\n\nExample:\ntype ActionStrategy interface {\n    DetermineAction(score float64, confidence float64) models.RecommendationAction\n}\n\ntype ConservativeStrategy struct {\n    BuyThreshold  float64  // 35\n    SellThreshold float64  // -35\n    MinConfidence float64  // 60\n}\n\nBenefits:\n- Support different risk profiles\n- A/B testing capabilities\n- User customization\n\nPriority: Low (Phase 3)","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T11:19:17.843751-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T21:24:40.824811-06:00","closed_at":"2026-01-17T21:24:40.824811-06:00","close_reason":"Implemented ActionStrategy interface with 4 strategy types (default, conservative, aggressive, custom). Added config support for strategy selection via AGENT_STRATEGY, AGENT_BUY_THRESHOLD, AGENT_SELL_THRESHOLD, AGENT_MIN_CONFIDENCE. Updated PortfolioManager to use configurable strategy. All tests pass.","labels":["enhancement","priority:low"]}
{"id":"trade-machine-d6t","title":"Fix repository abstraction - add Health method","description":"Repository exposes its connection pool directly, breaking abstraction and making it harder to swap implementations.\n\nCurrent problem:\n- handler.go:101 calls h.app.repo.Pool().Ping(ctx)\n- Breaks abstraction barrier\n- Tight coupling to pgx implementation\n\nImplementation:\n- Add Health(ctx context.Context) error method to Repository\n- Update handler.go to call repo.Health() instead\n- Remove Pool() method from public interface (or make it internal)\n\nSimple fix:\nfunc (r *Repository) Health(ctx context.Context) error {\n    return r.pool.Ping(ctx)\n}\n\nPriority: Medium (Phase 2)","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T11:18:03.400331-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T13:36:34.452149-06:00","closed_at":"2026-01-17T13:36:34.452149-06:00","close_reason":"Closed","labels":["enhancement","priority:medium"]}
{"id":"trade-machine-fqp","title":"Add structured logging with slog","description":"Replace log.Printf with structured logging using Go's slog package (1.21+) or zap.\n\nCurrent issues:\n- Uses standard log.Printf throughout\n- No log levels or structured fields\n- Hard to filter/search logs\n- Difficult to integrate with log aggregation\n\nImplementation:\n- Create observability/logger.go\n- Initialize slog with appropriate handler (JSON for production)\n- Replace all log.Printf calls with structured logging\n- Add context fields (symbol, agent_type, error, etc.)\n\nExample:\nlogger.Warn('failed to initialize database', 'error', err, 'connection_string', sanitize(connString))\n\nPriority: High (Phase 1)","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T11:17:23.262004-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T13:52:57.853555-06:00","closed_at":"2026-01-17T13:52:57.853555-06:00","close_reason":"Closed","labels":["enhancement","observability","priority:high"]}
{"id":"trade-machine-iw8","title":"Add domain events system","description":"Side effects (like saving AgentRun) are hardcoded in the manager. Add event-driven architecture for extensibility.\n\nCurrent problem:\n- agents/manager.go has hardcoded side effects\n- Difficult to add new functionality (notifications, metrics, alerts)\n- Tight coupling\n\nImplementation:\n- Create internal/events package\n- Define Event interface and EventBus\n- Publish events: AnalysisStarted, AnalysisCompleted, RecommendationCreated\n- Subscribe handlers for logging, metrics, notifications\n- Keep existing behavior as default subscribers\n\nExample:\ntype Event interface {\n    Type() string\n    Timestamp() time.Time\n}\n\ntype AnalysisCompleted struct {\n    Symbol   string\n    Analysis *Analysis\n    Duration time.Duration\n}\n\nBenefits:\n- Easier to add features\n- Decouples components\n- Better observability\n\nPriority: Low (Phase 3)","status":"open","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T11:18:43.567854-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T11:18:43.567854-06:00","labels":["enhancement","priority:low"]}
{"id":"trade-machine-m0l","title":"Create HTMX partial templates for data display","description":"Create HTML partial templates that handlers can render for HTMX responses.\n\nTemplates to create in templates/partials/:\n1. analyze_result.templ - Analysis result with:\n   - Symbol and action badge (BUY/SELL/HOLD)\n   - Overall score gauge\n   - Confidence bar\n   - Score breakdown grid (Fundamental, Technical, News)\n   - Agent reasoning sections\n   - Approve/Reject buttons\n\n2. positions_list.templ - Portfolio positions:\n   - Summary row (total value, total P/L)\n   - Table with symbol, side, qty, avg price, current, P/L\n   - Color-coded P/L (green positive, red negative)\n\n3. recommendations_list.templ - Recommendation cards:\n   - Card per recommendation with color-coded border\n   - Symbol, action badge, status badge\n   - Score summary and confidence\n   - Approve/Reject buttons with HTMX\n\n4. trades_list.templ - Trades table:\n   - Symbol, side, qty, price, total, status\n   - Status badges\n   - Timestamps\n\n5. agent_runs_list.templ - Agent run cards:\n   - Agent type badge with color\n   - Symbol, status, duration\n   - Expandable details\n\nPriority: High","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T15:28:58.382625-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T17:56:18.057872-06:00","closed_at":"2026-01-17T17:56:18.057872-06:00","close_reason":"Created 5 HTMX partial templates: analyze_result, positions_list, recommendations_list, trades_list, agent_runs_list. All use the reusable components and support HTMX swapping.","labels":["enhancement","priority:high","ui"]}
{"id":"trade-machine-mow","title":"Create reusable UI component templates","description":"Create a set of reusable templ components for consistent UI patterns.\n\nComponents to create in templates/components/:\n1. action_badge.templ - BUY/SELL/HOLD color-coded badges\n2. status_badge.templ - pending/approved/rejected/executed status badges\n3. score_gauge.templ - Visual -100 to +100 score display with color gradient\n4. confidence_bar.templ - Confidence percentage progress bar\n5. empty_state.templ - 'No data' placeholder with icon and message\n6. error_state.templ - Error display with message and retry button\n\nEach component should:\n- Accept appropriate parameters\n- Use the custom color scheme\n- Be reusable across different sections\n\nExample usage:\n@ActionBadge(models.BUY) -\u003e renders green BUY badge\n@ScoreGauge(45.2) -\u003e renders score with bullish color\n@ConfidenceBar(72) -\u003e renders 72% filled bar\n\nPriority: High","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T15:28:35.337652-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T17:25:58.535186-06:00","closed_at":"2026-01-17T17:25:58.535186-06:00","close_reason":"Created 6 reusable UI component templates: action_badge, status_badge, score_gauge, confidence_bar, empty_state, error_state. All tests pass.","labels":["enhancement","priority:high","ui"]}
{"id":"trade-machine-r7a","title":"Implement PositionSizer component","description":"Quantity calculation is hardcoded to 10 shares (agents/manager.go:193-197). Create proper position sizing based on risk management.\n\nCurrent problem:\n- rec.Quantity = decimal.NewFromInt(10) hardcoded\n- No risk management\n- Ignores portfolio size, confidence, account balance\n\nImplementation:\n- Create agents/position_sizer.go\n- Define PositionSizer interface\n- Implement DefaultPositionSizer with configurable rules\n- Consider: account size, confidence, volatility, existing positions\n\nExample:\ntype PositionSizer interface {\n    CalculateQuantity(ctx context.Context, symbol string, action models.RecommendationAction, confidence float64, account models.Account) (decimal.Decimal, error)\n}\n\nStrategies:\n- Fixed dollar amount\n- Percentage of portfolio\n- Kelly criterion\n- Volatility-based sizing\n\nPriority: Low (Phase 3)","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T11:18:27.169212-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T22:34:26.910567-06:00","closed_at":"2026-01-17T19:53:37.84684-06:00","labels":["enhancement","priority:low"]}
{"id":"trade-machine-sz5","title":"Add circuit breaker for external APIs","description":"Services use retry logic but no circuit breaker pattern. Add circuit breaker to prevent API quota exhaustion during outages.\n\nCurrent issues:\n- services/retry.go only retries, no backpressure\n- Can exhaust API quotas during outages\n- Slow failure detection\n\nImplementation:\n- Add gobreaker or similar library\n- Create services/circuit_breaker.go\n- Wrap all external API calls (AlphaVantage, NewsAPI, Alpaca, Bedrock)\n- Configure thresholds per service\n- Add health check endpoint showing breaker status\n\nConfiguration:\n- MaxRequests: 5\n- Interval: 1 minute\n- Timeout: 30 seconds\n\nPriority: Medium (Phase 2)","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T11:17:32.491939-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T17:26:21.42028-06:00","closed_at":"2026-01-17T15:34:42.36612-06:00","labels":["enhancement","priority:medium","reliability"]}
{"id":"trade-machine-szp","title":"Improve index.templ layout and navigation","description":"Update the main index.templ with improved structure and navigation.\n\nChanges needed:\n1. Sidebar improvements:\n   - Add app title/logo header\n   - Add data-section attributes for JS targeting\n   - Improve nav link styling with proper active states\n   - Add optional count badges for pending items\n\n2. Section improvements:\n   - Add loading indicators (htmx-indicator)\n   - Add empty state placeholders\n   - Improve card layouts and spacing\n   - Add section headers with icons\n\n3. Analyze section:\n   - Larger, more prominent input\n   - Clear call-to-action button\n   - Better result container styling\n\n4. List sections (recommendations, portfolio, trades, agents):\n   - Consistent button styling\n   - Filter/sort options where appropriate\n   - Proper empty states\n\nFiles affected:\n- templates/index.templ\n\nPriority: Medium","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T15:29:49.176451-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T18:54:04.901002-06:00","closed_at":"2026-01-17T18:54:04.901002-06:00","close_reason":"Improved index.templ: added tagline, larger analyze input, proper empty states using components, loading spinners for all sections, auto-load on section switch (hx-trigger load), improved header layout with button groups.","labels":["enhancement","priority:medium","ui"]}
{"id":"trade-machine-veb","title":"Add dependency injection with wire","description":"Manual dependency wiring in main.go is verbose and error-prone. Use google/wire for compile-time dependency injection.\n\nCurrent problem:\n- main.go:90-105 manually wires all dependencies\n- Hard to maintain as dependencies grow\n- No compile-time validation of dependency graph\n\nImplementation:\n- Add google.golang.org/wire\n- Create internal/wire.go with provider functions\n- Generate wire_gen.go with InitializeApp function\n- Update main.go to call InitializeApp\n\nExample:\n//+build wireinject\nfunc InitializeApp(ctx context.Context, cfg *config.Config) (*app.App, error) {\n    wire.Build(\n        repository.NewRepository,\n        services.NewBedrockService,\n        agents.NewPortfolioManager,\n        app.NewApp,\n    )\n    return nil, nil\n}\n\nBenefits:\n- Compile-time validation\n- Easier testing\n- Clear dependency graph\n\nPriority: Low (Phase 3)","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T11:18:16.825523-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T15:50:23.855331-06:00","closed_at":"2026-01-17T15:25:42.931307-06:00","labels":["enhancement","priority:low"]}
{"id":"trade-machine-vnm","title":"Add Agent interface introspection methods","description":"Agent interface lacks methods to query capabilities or status. Add introspection for better runtime behavior.\n\nCurrent problem:\n- No way to check if agent dependencies are healthy\n- No metadata about agent capabilities\n- Can't dynamically disable agents\n\nImplementation:\n- Add IsAvailable(ctx context.Context) bool to Agent interface\n- Add GetMetadata() AgentMetadata to Agent interface\n- Implement in all agents (fundamental, technical, news)\n- Use in PortfolioManager to skip unavailable agents\n\nExample:\ntype Agent interface {\n    Analyze(ctx context.Context, symbol string) (*Analysis, error)\n    Name() string\n    Type() models.AgentType\n    \n    // New methods\n    IsAvailable(ctx context.Context) bool  // Check dependencies\n    GetMetadata() AgentMetadata            // Description, version, etc.\n}\n\ntype AgentMetadata struct {\n    Description string\n    Version     string\n    RequiredServices []string\n}\n\nPriority: Low (Phase 3)","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T11:19:40.733886-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T22:45:27.017977-06:00","closed_at":"2026-01-17T22:45:27.017977-06:00","close_reason":"Closed","labels":["enhancement","priority:low"]}
{"id":"trade-machine-xfo","title":"Add service interface abstractions","description":"App struct currently depends on concrete service types, making testing difficult. Define interfaces for all services and depend on interfaces instead.\n\nCurrent problem:\n- app.go:18-24 uses *services.AlpacaService (concrete)\n- Hard to mock for testing\n- Tight coupling to implementations\n\nImplementation:\n- Create services/interfaces.go with TradingService, MarketDataService, etc.\n- Update App struct to use interface types\n- Update all service constructors to return interfaces\n\nBenefits:\n- Easier to mock for tests\n- Can swap implementations\n- Better separation of concerns\n\nPriority: High (Phase 1)","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T11:17:12.993172-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T14:06:53.209499-06:00","closed_at":"2026-01-17T14:06:53.209499-06:00","close_reason":"Closed","labels":["enhancement","priority:high","testing"]}
{"id":"trade-machine-z13","title":"Refactor project structure to internal/ pattern","description":"main.go, app.go, and handler.go are in main package, making them harder to test. Reorganize following Go best practices.\n\nCurrent problem:\n- Business logic in main package\n- Harder to test\n- Doesn't follow standard Go project layout\n\nImplementation:\n- Create cmd/trade-machine/main.go (minimal entry point)\n- Move app.go → internal/app/app.go\n- Move handler.go → internal/api/handler.go\n- Create internal/api/routes.go\n- Create internal/api/middleware/\n- Update imports throughout\n\nProposed structure:\ncmd/\n  trade-machine/\n    main.go\ninternal/\n  app/\n    app.go\n    app_test.go\n  api/\n    handler.go\n    routes.go\n    middleware/\n  config/\n  observability/\n\nBenefits:\n- Better testability\n- Follows Go conventions\n- Clearer organization\n\nPriority: Low (Phase 3)","status":"closed","priority":2,"issue_type":"task","owner":"aaron@freeman.zone","created_at":"2026-01-17T11:19:29.318635-06:00","created_by":"Aaron Freeman","updated_at":"2026-01-17T18:08:30.098114-06:00","closed_at":"2026-01-17T18:05:51.109199-06:00","labels":["enhancement","priority:low","refactoring"]}
